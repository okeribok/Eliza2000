<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wegwijzer AI Handreiking</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 10px;
    }

    #chat-window {
      width: 100%;
      max-width: 600px;
      height: 85vh;
      max-height: 700px;
      display: flex;
      flex-direction: column;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
      background: white;
    }

    #chat-header {
      background: linear-gradient(135deg, #0078d7 0%, #005a9f 100%);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #chat-title {
      font-size: 1.3em;
      font-weight: 600;
    }

    #chat-controls {
      display: flex;
      gap: 10px;
    }

    .control-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background 0.2s;
    }

    .control-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    #chat-container {
      flex-grow: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      background-color: #fafafa;
      scroll-behavior: smooth;
    }

    .message-wrapper {
      display: flex;
      flex-direction: column;
      margin: 8px 0;
    }

    .message-time {
      font-size: 0.75em;
      color: #666;
      margin: 2px 0;
    }

    .user-message-wrapper { align-items: flex-end; }
    .user-message-wrapper .message-time { text-align: right; }
    .bot-message-wrapper { align-items: flex-start; }

    .user-message, .bot-message {
      padding: 12px 16px;
      border-radius: 18px;
      max-width: 85%;
      line-height: 1.5;
      word-wrap: break-word;
    }

    .user-message {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      align-self: flex-end;
    }

    .bot-message {
      background: white;
      color: #333;
      align-self: flex-start;
      border: 1px solid #e1e5e9;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    
    .typing-dots { display: flex; gap: 4px; }
    .typing-dot {
      width: 6px; height: 6px; background: #666; border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }
    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes typing { 0%, 80%, 100% { opacity: 0.3; transform: scale(0.8); } 40% { opacity: 1; transform: scale(1); } }
    
    .typing-cursor {
      display: inline-block; width: 2px; height: 1.2em; background-color: #4facfe;
      margin-left: 2px; animation: cursor-blink 1s infinite; vertical-align: text-bottom;
    }
    @keyframes cursor-blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

    .quick-replies {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
      align-self: flex-start;
      max-width: 100%;
    }

    .quick-reply-btn {
      background: #f1f3f4;
      border: 1px solid #dadce0;
      color: #3c4043;
      padding: 8px 12px;
      border-radius: 16px;
      cursor: pointer;
      font-size: 0.9em;
      transition: all 0.2s;
    }

    .quick-reply-btn:hover {
      background: #e8f0fe;
      border-color: #4285f4;
      color: #1a73e8;
    }
    
    #input-area {
      display: flex; padding: 16px; border-top: 1px solid #e1e5e9;
      background-color: white; gap: 10px;
    }

    #user-input {
      flex-grow: 1; padding: 12px 16px; border: 2px solid #e1e5e9;
      border-radius: 24px; outline: none; font-size: 16px; transition: border-color 0.2s;
    }
    #user-input:focus { border-color: #4285f4; }

    #send-button {
      padding: 12px 20px; background: linear-gradient(135deg, #4285f4 0%, #1a73e8 100%);
      color: white; border: none; border-radius: 24px;
      cursor: pointer; font-weight: 600; transition: all 0.2s; min-width: 80px;
    }
    #send-button:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
    }
    #send-button:disabled {
      background: #dadce0; cursor: not-allowed;
      transform: none; box-shadow: none;
    }
    a.link-card {
        display: block; background: #f8f9fa; border: 1px solid #dadce0; border-radius: 8px;
        padding: 12px; margin-top: 8px; text-decoration: none; color: #1a73e8; transition: all 0.2s;
    }
    a.link-card:hover {
        background: #e8f0fe; border-color: #a3c5fb;
    }
  </style>
</head>
<body>

  <div id="chat-window" role="main">
    <div id="chat-header">
      <div id="chat-title">Wegwijzer AI Handreiking</div>
      <div id="chat-controls">
        <button class="control-btn" id="clear-btn" title="Gesprek wissen">üóëÔ∏è Wissen</button>
        <button class="control-btn" id="help-btn" title="Help">‚ùì Help</button>
        <button class="control-btn" id="email-btn" onclick="emailConversation()" title="Mail dit gesprek naar een medewerker">üìß Mail een medewerker</button>
      </div>
    </div>
    <div id="chat-container" role="log" aria-live="polite" aria-label="Chat berichten"></div>
    <div id="input-area">
      <input type="text" id="user-input" placeholder="Typ uw vraag hier..." autocomplete="off">
      <button id="send-button" aria-label="Bericht verzenden">Stuur</button>
    </div>
  </div>

<script>
// ===================================================================================
// CHATBOT LOGIC (BASED ON STABLE DRILL-DOWN VERSION)
// ===================================================================================

class EnhancedDutchEliza {
  constructor(qaData) {
    this.qaData = qaData || [];
    this.qaDataMap = new Map(qaData.map(item => [item.id, item]));
    this.conversationState = {
      currentTopicId: null,
      detailLevel: "short",
    };

    // Patterns updated for AI Handreiking context
    this.patterns = [
      { regex: /^(hallo|hoi|hey|goedemorgen|goedemiddag|goedenavond)!?$/i, responses: ["Hallo! Ik ben de Wegwijzer voor de Overheidsbrede handreiking Generatieve AI. Hoe kan ik u helpen?"], quickReplies: ["Mag ik AI gebruiken?", "Wat zijn de belangrijkste regels?", "Praktische tips"] },
      { regex: /bedankt|dank(je)?( wel)?/i, responses: ["Graag gedaan! Is er nog iets anders waarmee ik kan helpen?"], quickReplies: ["Juridische aspecten", "Ethische risico's", "Praktische tips"] },
      { regex: /doei|tot ziens|dag/i, responses: ["Tot ziens! Kom gerust terug als u meer vragen heeft."] },
      { regex: /help|hulp/i, isHelpRequest: true },
      { regex: /ja|graag|zeker|ok(√©)?|goed|meer details|vertel meer/i, isContinuation: true },
      { regex: /nee|niet( nodig)?|hoeft niet/i, responses: ["Prima! Waarmee kan ik u dan wel helpen?"], quickReplies: ["Juridische aspecten", "Ethische risico's", "Praktische tips"] },
    ];

    this.fallbackResponse = {
        text: "Ik kan daar geen direct antwoord op vinden in de handreiking. Misschien is uw vraag gerelateerd aan een van deze hoofdonderwerpen?",
        quickReplies: ["Juridische aspecten", "Ethische risico's", "Praktische tips"]
    };
  }

  findRelevantQA(userInput) {
    const userKeywords = this.extractKeywords(userInput);
    if (userKeywords.length === 0) return null;
    let bestMatch = { score: 0, item: null };
    for (const item of this.qaData) {
      const itemKeywords = [...this.extractKeywords(item.question), ...(item.keywords || [])];
      let score = 0;
      userKeywords.forEach(userWord => {
        itemKeywords.forEach(itemWord => {
          if (userWord === itemWord) score += 2;
          else if (itemWord.includes(userWord)) score += 1;
        });
      });
      const confidence = score / (userKeywords.length + itemKeywords.length);
      if (confidence > bestMatch.score && confidence > 0.35) {
        bestMatch = { score: confidence, item: item };
      }
    }
    return bestMatch.item;
  }
  
  extractKeywords(text) {
    const commonWords = ['de','het','een','en','van','in','op','aan','met','voor','door','is','zijn','was','ik','je','u','hij','zij','wij','jullie','hoe','wat','waar','wie','waarom','welke','of','dat','dit'];
    return text.toLowerCase().replace(/[^\w\s]/g, '').split(/\s+/).filter(word => word.length > 2 && !commonWords.includes(word));
  }

  generateResponse(userInput) {
    // 1. Check for standard patterns (hallo, bedankt, etc.)
    for (const pattern of this.patterns) {
        const match = userInput.match(pattern.regex);
        if (match) {
            // Handle contextual drill-down
            if (pattern.isContinuation && this.conversationState.currentTopicId) {
                const currentTopic = this.qaDataMap.get(this.conversationState.currentTopicId);
                if (this.conversationState.detailLevel === 'short' && currentTopic.fullAnswer) {
                    this.conversationState.detailLevel = 'full';
                    return { answer: currentTopic.fullAnswer, ...currentTopic };
                }
                if (this.conversationState.detailLevel === 'full' && currentTopic.moreInfo) {
                    this.conversationState.detailLevel = 'more';
                    return { answer: currentTopic.moreInfo, ...currentTopic };
                }
            }
            // Handle other patterns
            if (pattern.isHelpRequest) return this.getHelpInfo();
            if (pattern.responses) {
                this.resetState();
                return { text: this.randomChoice(pattern.responses), quickReplies: pattern.quickReplies };
            }
        }
    }

    // 2. If no pattern matches, search the main Q&A database.
    this.resetState();
    const qaItem = this.findRelevantQA(userInput);
    if (qaItem) {
        this.conversationState.currentTopicId = qaItem.id;
        this.conversationState.detailLevel = 'short';
        return { answer: qaItem.shortAnswer, ...qaItem };
    }

    // 3. If nothing is found, provide a helpful fallback.
    return this.fallbackResponse;
  }

  getHelpInfo() {
    this.resetState();
    return {
      text: `Ik ben uw Wegwijzer voor de AI Handreiking. U kunt mij vragen stellen over de inhoud, bijvoorbeeld over:\n\n‚Ä¢ Juridische kaders (AVG, AI-verordening)\n‚Ä¢ Ethische risico's (bias, transparantie)\n‚Ä¢ Praktische tips voor het gebruik van AI\n‚Ä¢ Governance en verantwoordelijkheden`,
      quickReplies: ["Mag ik AI gebruiken?", "Wat zijn de belangrijkste regels?", "Praktische tips"]
    };
  }

  randomChoice(array) {
    return array[Math.floor(Math.random() * array.length)];
  }
  
  resetState() {
    this.conversationState.currentTopicId = null;
    this.conversationState.detailLevel = 'short';
  }

  clearSession() {
    this.resetState();
  }
}

// ===================================================================================
// Q&A DATASET (ADAPTED FOR DRILL-DOWN & CORRECTED)
// ===================================================================================

const websiteQA = [
  {
    id: "governance-ai-model-training",
    question: "Hoe worden AI-modellen getraind en wat betekent dat voor privacy?",
    keywords: ["ai training", "model training", "trainingsdata"],
    shortAnswer: "AI-modellen worden getraind op enorme hoeveelheden data van het internet, vaak zonder toestemming van de rechthebbenden.",
    followUp: "Wilt u begrijpen waarom dit problematisch is?",
    fullAnswer: "**AI-model training proces:**\n‚Ä¢ **Dataverzameling**: scrapen van miljarden webpagina's\n‚Ä¢ **Filtering**: beperkte kwaliteitscontrole\n‚Ä¢ **Training**: patroonherkenning in data\n‚Ä¢ **Finetuning**: aanpassingen voor specifiek gebruik\n‚Ä¢ **Implementatie**: beschikbaar stellen aan gebruikers",
    moreInfo: "Het probleem: veel trainingsdata bevatten auteursrechtelijk beschermd materiaal en persoonsgegevens zonder toestemming. Eenmaal getraind kunnen deze gegevens opduiken in AI-output. Dit is waarom invoer van persoonsgegevens zo gevaarlijk is - het wordt onderdeel van de training.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=25",
    actions: [
      { text: "Waarom is mijn invoer gevaarlijk?", nextId: "ambtenaar-shadow-it-gevolgen" },
      { text: "Auteursrecht problemen", nextId: "ambtenaar-auteursrecht-praktijk" },
      { text: "Terug naar training info", nextId: "training-disambiguation" }
    ]
  },
  {
    id: "governance-ai-geletterdheid-detail",
    question: "Wat zijn de AI-geletterdheid vereisten uit de AI-verordening?",
    keywords: ["ai-geletterdheid", "kennis", "vaardigheden", "verplicht"],
    shortAnswer: "De AI-verordening vereist dat organisaties zorgen voor adequate AI-kennis van hun personeel, afgestemd op hun rol en de risico's van de AI-systemen die zij gebruiken.",
    followUp: "Wilt u weten wat dit concreet betekent voor uw organisatie?",
    fullAnswer: "**AI-geletterdheid vereisten (art. 4 AI-verordening):**\n‚Ä¢ **Technische kennis**: begrip van AI-mogelijkheden en beperkingen\n‚Ä¢ **Risicobewustzijn**: herkennen van potenti√´le problemen\n‚Ä¢ **Contextkennis**: begrijpen van impact op doelgroepen\n‚Ä¢ **Rolspecifieke training**: aangepast aan verantwoordelijkheden",
    moreInfo: "Dit betekent dat organisaties training moeten bieden op verschillende niveaus: van basisbewustzijn voor alle gebruikers tot specialistische kennis voor ontwikkelaars en besluitvormers. Training moet regelmatig worden ge√ºpdatet naarmate technologie evolueert.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=11",
    actions: [
      { text: "Welke training heb ik nodig?", nextId: "ambtenaar-training-behoefte" },
      { text: "Organisatie-brede implementatie", nextId: "governance-training-implementatie" },
      { text: "Terug naar AI-verordening", nextId: "governance-ai-verordening" }
    ]
  },
  {
    id: "ambtenaar-persoonlijke-aansprakelijkheid",
    question: "Kan ik persoonlijk aansprakelijk worden gesteld voor AI-misbruik?",
    keywords: ["persoonlijke aansprakelijkheid", "aansprakelijk", "schadevergoeding"],
    shortAnswer: "Ja, als ambtenaar kunt u persoonlijk aansprakelijk worden gesteld als u door onrechtmatig AI-gebruik schade veroorzaakt aan uw organisatie of burgers.",
    followUp: "Wilt u begrijpen hoe dit juridisch werkt?",
    fullAnswer: "**Persoonlijke aansprakelijkheid scenario's:**\n‚Ä¢ **Opzet/grove nalatigheid**: bewust negeren van verboden\n‚Ä¢ **Schade aan organisatie**: boetes, reputatieschade, herstelkosten\n‚Ä¢ **Schade aan burgers**: privacy-inbreuk, discriminatie\n‚Ä¢ **Disciplinaire maatregelen**: waarschuwing tot ontslag",
    moreInfo: "Voorbeeld: U gebruikt ChatGPT met persoonsgegevens, deze lekken uit via de AI, burgers leiden schade. Uw werkgever kan de schade (boetes, compensatie, herstelkosten) op u verhalen als u bewust tegen de regels handelde. Dit is geen theoretisch risico - naleving wordt steeds strikter gecontroleerd.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=21",
    actions: [
      { text: "Hoe voorkom ik dit risico?", nextId: "ambtenaar-veilige-alternatieven" },
      { text: "Wat zijn disciplinaire maatregelen?", nextId: "ambtenaar-disciplinaire-gevolgen" },
      { text: "Terug naar juridische gevolgen", nextId: "ambtenaar-juridische-gevolgen" }
    ]
  },
  {
    id: "persoonsgegevens-disambiguation",
    question: "Vragen over persoonsgegevens en AI",
    keywords: ["persoonsgegevens", "pii", "privacy"],
    priority: "high",
    shortAnswer: "Heeft uw vraag betrekking op wat wel/niet mag met persoonsgegevens, de risico's, of hoe u ze herkent?",
    actions: [
      { text: "Wat is verboden met persoonsgegevens?", nextId: "ambtenaar-verboden-gebruik" },
      { text: "Wat zijn de risico's?", nextId: "ambtenaar-persoonsgegevens-risicos" },
      { text: "Hoe herken ik persoonsgegevens?", nextId: "ambtenaar-persoonsgegevens-herkennen" },
      { text: "AVG en AI-gebruik", nextId: "governance-avg-vereisten" }
    ]
  },
  {
    id: "risico-disambiguation",
    question: "Vragen over AI-risico's",
    keywords: ["risico", "gevaar", "probleem"],
    priority: "high", 
    shortAnswer: "Welk type risico bedoelt u: juridische gevolgen, ethische risico's, of cybersecurity?",
    actions: [
      { text: "Juridische risico's en gevolgen", nextId: "ambtenaar-juridische-gevolgen" },
      { text: "Ethische risico's (bias, discriminatie)", nextId: "governance-ethische-aspecten" },
      { text: "Cybersecurity risico's", nextId: "governance-cybersecurity-detail" },
      { text: "Risicoanalyse uitvoeren", nextId: "governance-risico-analyse-doen" }
    ]
  },
  {
    id: "training-disambiguation", 
    question: "Vragen over training",
    keywords: ["training", "opleiding", "leren"],
    priority: "medium",
    shortAnswer: "Bedoelt u training van AI-modellen (technisch) of training voor medewerkers?",
    actions: [
      { text: "Welke training heb ik nodig?", nextId: "ambtenaar-training-behoefte" },
      { text: "AI-geletterdheid vereisten", nextId: "governance-ai-geletterdheid-detail" },
      { text: "Hoe worden AI-modellen getraind?", nextId: "governance-ai-model-training" },
      { text: "Training data en privacy", nextId: "ambtenaar-shadow-it-gevolgen" }
    ]
  },
  {
    id: "governance-juridische-aspecten",
    question: "Wat zijn de belangrijkste juridische aspecten bij AI-gebruik?",
    keywords: ["juridische aspecten", "juridisch", "wet", "regelgeving", "compliance"],
    shortAnswer: "De belangrijkste juridische kaders zijn de AVG (privacy), AI-verordening (risico's), Archiefwet (bewaarplicht), WOO (openbaarheid), en de Ambtenarenwet (rechtmatig handelen).",
    followUp: "Wilt u meer weten over een specifiek juridisch kader?",
    fullAnswer: "**Kernwetgeving voor AI bij overheid:**\n‚Ä¢ **AVG**: bescherming persoonsgegevens, DPIA-verplichting\n‚Ä¢ **AI-verordening**: risicoclassificatie, transparantie-eisen\n‚Ä¢ **Archiefwet**: bewaarplicht overheidsinformatie\n‚Ä¢ **WOO**: zorgvuldige informatieverstrekking\n‚Ä¢ **Ambtenarenwet**: rechtmatig en integer handelen\n‚Ä¢ **Inkoop**: ARBIT voorwaarden, leveranciersmanagement",
    moreInfo: "Deze wetten overlappen en versterken elkaar. Bijvoorbeeld: een DPIA (AVG) moet rekening houden met AI-risico's (AI-verordening), terwijl de uitkomsten gepubliceerd moeten worden (WOO) en permanent bewaard (Archiefwet). Niet-naleving kan leiden tot boetes, aansprakelijkheid en disciplinaire maatregelen.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "AVG en privacy", nextId: "governance-avg-vereisten" },
      { text: "AI-verordening details", nextId: "governance-ai-verordening" },
      { text: "Archiefwet uitleg", nextId: "ambtenaar-archiefwet-risico" }
    ]
  },
  {
    id: "governance-ethische-aspecten",
    question: "Wat zijn de belangrijkste ethische risico's bij AI?",
    keywords: ["ethische aspecten", "ethiek", "risico", "discriminatie", "bias"],
    shortAnswer: "De hoofdrisico's zijn bias en discriminatie, gebrek aan transparantie, betrouwbaarheidsproblemen, en duurzaamheidsimpact.",
    followUp: "Wilt u meer weten over hoe u deze risico's kunt beheersen?",
    fullAnswer: "**Ethische uitdagingen:**\n‚Ä¢ **Bias**: vooroordelen uit trainingsdata\n‚Ä¢ **Discriminatie**: ongelijke behandeling van groepen\n‚Ä¢ **Transparantie**: black-box werking AI-modellen\n‚Ä¢ **Vertrouwen**: hallucinaties en onjuiste informatie\n‚Ä¢ **Duurzaamheid**: hoog energie- en waterverbruik",
    moreInfo: "Ethische AI-inzet vereist proactief handelen: diversiteit in teams, regelmatige bias-testing, transparante communicatie over AI-gebruik, en bewuste afwegingen over duurzaamheid. De overheid heeft een voorbeeldfunctie in verantwoorde technologie-inzet.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=17",
    actions: [
      { text: "Bias herkennen en voorkomen", nextId: "ambtenaar-bias-herkennen" },
      { text: "Transparantie verplichtingen", nextId: "governance-transparantie" },
      { text: "Duurzaamheidsaspecten", nextId: "governance-duurzaamheid" }
    ]
  },
  {
    id: "governance-governance-aspecten", 
    question: "Hoe richt ik AI-governance in mijn organisatie in?",
    keywords: ["governance", "organisatie", "inrichting", "bestuur"],
    shortAnswer: "Effectieve AI-governance bestaat uit drie pijlers: een AI-strategie (beleid), een AI-stuurgroep (rollen), en een documentatiestrategie (transparantie).",
    followUp: "Wilt u praktische stappen voor implementatie?",
    fullAnswer: "**AI-governance structuur:**\n‚Ä¢ **Strategie**: intern AI-beleid gebaseerd op handreiking\n‚Ä¢ **Organisatie**: duidelijke rollen en verantwoordelijkheden (RASCI)\n‚Ä¢ **Processen**: risicoanalyses, inkoop, monitoring\n‚Ä¢ **Documentatie**: Algoritmeregister, impact assessments\n‚Ä¢ **Controle**: audit, rapportage, verbeterprocessen",
    moreInfo: "Begin met een AI-stuurgroep met vertegenwoordigers van IT, juridisch, privacy, security en business. Ontwikkel beleid dat aansluit bij bestaande data- en IT-governance. Zorg voor training en bewustwording op alle niveaus.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=12",
    actions: [
      { text: "RASCI-model implementeren", nextId: "governance-verantwoordelijkheden" },
      { text: "Risicoanalyses uitvoeren", nextId: "governance-risico-analyse-doen" },
      { text: "Algoritmeregister gebruiken", nextId: "governance-algoritmeregister-gebruik" }
    ]
  },
  {
    id: "help-info",
    question: "Help",
    shortAnswer: "Ik help u graag met vragen over de verantwoorde inzet van generatieve AI bij de overheid. U kunt mij bijvoorbeeld vragen over:",
    fullAnswer: "‚Ä¢ Wanneer en hoe u AI mag gebruiken in uw werk\n‚Ä¢ Juridische kaders zoals AVG en AI-verordening\n‚Ä¢ Ethische overwegingen en risico's\n‚Ä¢ Praktische tips voor effectief en veilig gebruik\n‚Ä¢ Governance en organisatorische aspecten\n\nWaar kan ik u mee helpen?",
    actions: [
      { text: "Mag ik AI gebruiken voor mijn werk?", nextId: "ambtenaar-mag-ik-ai-gebruiken" },
      { text: "Wat zijn de belangrijkste regels?", nextId: "ambtenaar-regels-overzicht" },
      { text: "Praktische tips voor gebruik", nextId: "ambtenaar-praktische-tips" }
    ]
  },
  {
    id: "ambtenaar-mag-ik-ai-gebruiken",
    question: "Mag ik generatieve AI gebruiken voor mijn werk?",
    keywords: ["mag", "gebruiken", "toegestaan", "inzetten", "ai", "chatgpt", "werk", "toestemming"],
    shortAnswer: "Ja, u mag generatieve AI gebruiken voor uw werk, mits u zich houdt aan de richtlijnen voor verantwoord gebruik.",
    followUp: "Wilt u weten wat de voorwaarden zijn?",
    fullAnswer: "De inzet van generatieve AI is toegestaan onder strikte voorwaarden om juridische en ethische risico's te vermijden. Het belangrijkste uitgangspunt is dat AI altijd ondersteunend wordt ingezet, niet als vervanging voor menselijke besluitvorming.",
    moreInfo: "De handreiking benadrukt een 'ja, mits' benadering waarbij AI kansen biedt voor effici√´ntere processen en betere dienstverlening, onder voorwaarde dat organisaties over de juiste gereedschapskist beschikken om deze technologie verantwoord in te zetten.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=4",
    actions: [
      { text: "Wat zijn de voorwaarden?", nextId: "ambtenaar-regels-overzicht" },
      { text: "Voor welke taken mag het?", nextId: "ambtenaar-toepassingen-overzicht" },
      { text: "Wat is absoluut niet toegestaan?", nextId: "ambtenaar-verboden-gebruik" }
    ]
  },
  {
    id: "ambtenaar-regels-overzicht",
    question: "Wat zijn de belangrijkste regels voor verantwoord AI-gebruik?",
    keywords: ["regels", "voorwaarden", "belangrijk", "richtlijnen", "verantwoord"],
    shortAnswer: "De drie kernregels zijn: geen gevoelige data invoeren, altijd menselijke controle behouden, en kritisch blijven over de output.",
    followUp: "Wilt u meer details over deze regels?",
    fullAnswer: "Belangrijkste regels voor verantwoord gebruik:\n\n1. **Gegevensbescherming**: Voer nooit persoonsgegevens of vertrouwelijke overheidsinformatie in\n2. **Menselijke controle**: Neem AI-output nooit klakkeloos over - u blijft eindverantwoordelijk\n3. **Kritische beoordeling**: Controleer altijd op juistheid, bias en geschiktheid voor uw context",
    moreInfo: "Deze regels zijn gebaseerd op juridische vereisten (AVG, AI-verordening) en ethische overwegingen. Ze helpen risico's te beperken zonder de voordelen van AI uit te sluiten. De handreiking biedt concrete handvatten om binnen deze kaders effectief te werken.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=22",
    actions: [
      { text: "Risico's van gevoelige data", nextId: "ambtenaar-persoonsgegevens-risicos" },
      { text: "Waarom menselijke controle?", nextId: "ambtenaar-menselijke-controle" },
      { text: "Hoe controleer ik de output?", nextId: "ambtenaar-output-controleren" }
    ]
  },
  {
    id: "ambtenaar-verboden-gebruik",
    question: "Wat is absoluut niet toegestaan bij het gebruik van generatieve AI?",
    keywords: ["verboden", "niet toegestaan", "persoonsgegevens", "gevoelig", "staatsgeheim", "chatgpt", "openai", "shadow it"],
    shortAnswer: "Het is niet toegestaan om persoonsgegevens of vertrouwelijke overheidsinformatie in te voeren in publieke AI-diensten zoals ChatGPT. Dit kan ernstige juridische gevolgen hebben.",
    followUp: "Wilt u begrijpen welke wetten u zou overtreden?",
    fullAnswer: "**WAARSCHUWING**: Gebruik van niet-gecontracteerde diensten zoals ChatGPT, Gemini, of Claude kan leiden tot overtreding van:\n‚Ä¢ **AVG**: onrechtmatige verwerking persoonsgegevens\n‚Ä¢ **Archiefwet**: vernietigen overheidsinformatie\n‚Ä¢ **WOO**: ongeautoriseerd openbaar maken\n‚Ä¢ **Ambtenarenwet**: handelen tegen de wet\n‚Ä¢ **AI-verordening**: niet-conforme AI-inzet",
    moreInfo: "**Ernstige gevolgen**: Deze overtredingen kunnen leiden tot disciplinaire maatregelen, persoonlijke aansprakelijkheid, en schade aan burgers. Alle invoer bij publieke AI-diensten kan gebruikt worden voor training en daarmee permanent openbaar worden. Er is geen 'veilige' manier om gevoelige overheidsinformatie in deze systemen te gebruiken.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Waarom is dit zo gevaarlijk?", nextId: "ambtenaar-shadow-it-gevolgen" },
      { text: "Wat zijn de juridische risico's?", nextId: "ambtenaar-juridische-gevolgen" },
      { text: "Zijn er wel veilige alternatieven?", nextId: "ambtenaar-veilige-alternatieven" }
    ]
  },
  {
    id: "ambtenaar-shadow-it-gevolgen",
    question: "Waarom is het gebruik van ChatGPT en dergelijke zo gevaarlijk?",
    keywords: ["chatgpt", "gevaarlijk", "risico", "shadow it", "training data"],
    shortAnswer: "Omdat alle informatie die u invoert permanent wordt opgeslagen en gebruikt om het AI-model te verbeteren, waardoor het toegankelijk kan worden voor andere gebruikers wereldwijd.",
    followUp: "Wilt u concrete voorbeelden van wat er mis kan gaan?",
    fullAnswer: "**Directe gevaren van publieke AI-diensten:**\n‚Ä¢ **Training data**: uw input wordt onderdeel van het model\n‚Ä¢ **Data mining**: bedrijven analyseren alle overheidsinvoer\n‚Ä¢ **Internationale opslag**: data verlaat Nederlandse jurisdictie\n‚Ä¢ **Permanente toegang**: onmogelijk om data te verwijderen\n‚Ä¢ **Cross-contamination**: uw info kan verschijnen in andermans sessies",
    moreInfo: "**Concrete voorbeelden**: Personeelsdossiers die in training data terechtkomen, vertrouwelijke beleidsstukken die opduiken in andere AI-sessies, of burgergegevens die permanent gekoppeld worden aan overheidsprocessen. Zelfs 'anonieme' data is vaak herleidbaar door combinatie met andere bronnen.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Welke wetten overtreed ik precies?", nextId: "ambtenaar-juridische-gevolgen" },
      { text: "Hoe zit het met 'anonieme' data?", nextId: "ambtenaar-anonieme-data-risico" },
      { text: "Wat zijn de alternatieven?", nextId: "ambtenaar-veilige-alternatieven" }
    ]
  },
  {
    id: "ambtenaar-juridische-gevolgen",
    question: "Welke juridische gevolgen kan het gebruik van ChatGPT hebben?",
    keywords: ["juridische gevolgen", "wet", "overtreding", "straf", "aansprakelijk"],
    shortAnswer: "U kunt meerdere wetten overtreden die kunnen leiden tot disciplinaire maatregelen, persoonlijke aansprakelijkheid, en schade aan de rechtsbescherming van burgers.",
    followUp: "Wilt u per wet weten wat de risico's zijn?",
    fullAnswer: "**Mogelijke wetsovertredingen:**\n‚Ä¢ **AVG**: ‚Ç¨20M boete + persoonlijke aansprakelijkheid\n‚Ä¢ **Archiefwet**: vernietigen overheidsdocumenten (art. 3)\n‚Ä¢ **WOO**: ongeautoriseerd verstrekken informatie (art. 5.1)\n‚Ä¢ **Ambtenarenwet**: plichtsverzuim (art. 125a Ambtenarenwet)\n‚Ä¢ **AI-verordening**: niet-conforme AI-inzet (vanaf 2026)",
    moreInfo: "**Let op**: Hoewel vervolgingen nog zeldzaam zijn, neemt bewustwording toe. De Autoriteit Persoonsgegevens heeft al aangegeven dat 'scraping bijna altijd illegaal' is. Uw organisatie kan u persoonlijk aansprakelijk stellen voor schade door ongeautoriseerd gebruik van niet-gecontracteerde AI-diensten.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Hoe zit het met de AVG precies?", nextId: "governance-avg-vereisten" },
      { text: "Wat zegt de Archiefwet?", nextId: "ambtenaar-archiefwet-risico" },
      { text: "Persoonlijke aansprakelijkheid?", nextId: "ambtenaar-persoonlijke-aansprakelijkheid" }
    ]
  },
  {
    id: "ambtenaar-archiefwet-risico",
    question: "Hoe overtreed ik de Archiefwet met AI-gebruik?",
    keywords: ["archiefwet", "archief", "vernietigen", "overheidsinformatie"],
    shortAnswer: "Door overheidsinformatie in ChatGPT te zetten, maakt u deze onherleidbaar onderdeel van een commercieel systeem, wat gelijkstaat aan onrechtmatige vernietiging.",
    followUp: "Wilt u begrijpen waarom dit zo problematisch is?",
    fullAnswer: "**Archiefwet overtredingen:**\n‚Ä¢ **Artikel 3**: overheidsinformatie moet behouden blijven\n‚Ä¢ **Onherleidbaarheid**: eenmaal in AI-training is data niet meer te scheiden\n‚Ä¢ **Commerci√´le eigendom**: uw overheidsinformatie wordt eigendom van bedrijf\n‚Ä¢ **Verlies van controle**: geen mogelijkheid tot correctie of verwijdering",
    moreInfo: "De Archiefwet vereist dat overheidsinformatie authentiek, betrouwbaar en toegankelijk blijft. Door informatie in publieke AI te stoppen verliest u definitief de controle en overtreedt u uw bewaarplicht. Dit geldt ook voor 'onbelangrijke' informatie - u mag niet zelf bepalen wat wel/niet bewaard moet worden.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=16",
    actions: [
      { text: "Wat is 'onbelangrijke' informatie?", nextId: "ambtenaar-informatie-classificatie" },
      { text: "Terug naar juridische gevolgen", nextId: "ambtenaar-juridische-gevolgen" },
      { text: "Veilige alternatieven", nextId: "ambtenaar-veilige-alternatieven" }
    ]
  },
  {
    id: "ambtenaar-persoonsgegevens-risicos",
    question: "Wat zijn de risico's van het invoeren van persoonsgegevens in AI?",
    keywords: ["persoonsgegevens", "risico", "privacy", "avg", "datalekken"],
    shortAnswer: "Het grootste risico is dat ingevoerde gegevens worden opgeslagen door de AI-leverancier en kunnen lekken naar andere gebruikers.",
    followUp: "Wilt u meer weten over de juridische aspecten?",
    fullAnswer: "Belangrijkste risico's:\n‚Ä¢ **Dataopslag**: Gegevens kunnen door leveranciers worden bewaard\n‚Ä¢ **Training**: Uw data kan gebruikt worden om het model te verbeteren\n‚Ä¢ **Lekken**: Informatie kan opduiken in output naar andere gebruikers\n‚Ä¢ **AVG-overtreding**: Onrechtmatige verwerking van persoonsgegevens",
    moreInfo: "De AVG vereist een wettelijke grondslag voor het verwerken van persoonsgegevens. Bij publieke AI-diensten is vaak onduidelijk hoe data wordt gebruikt, waar het wordt opgeslagen, en wie er toegang toe heeft. Dit maakt rechtmatige verwerking vrijwel onmogelijk.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Hoe herken ik persoonsgegevens?", nextId: "ambtenaar-persoonsgegevens-herkennen" },
      { text: "Zijn er veilige alternatieven?", nextId: "ambtenaar-veilige-alternatieven" },
      { text: "Wat zegt de AVG hierover?", nextId: "governance-avg-vereisten" }
    ]
  },
  {
    id: "ambtenaar-persoonsgegevens-herkennen",
    question: "Hoe herken ik wat persoonsgegevens zijn?",
    keywords: ["persoonsgegevens", "herkennen", "identificeren", "definitie"],
    shortAnswer: "Persoonsgegevens zijn alle gegevens waarmee een persoon direct of indirect identificeerbaar is.",
    followUp: "Wilt u voorbeelden zien van wat wel en niet als persoonsgegeven geldt?",
    fullAnswer: "Voorbeelden van persoonsgegevens:\n‚Ä¢ **Direct**: naam, adres, BSN, telefoonnummer, email\n‚Ä¢ **Indirect**: combinatie van leeftijd + woonplaats + functie\n‚Ä¢ **Online**: IP-adressen, gebruikersnamen, tracking data\n‚Ä¢ **Bijzonder**: gezondheid, politieke voorkeur, religie",
    moreInfo: "Let op: ook geanonimiseerde data kan persoonsgegeven zijn als heridentificatie mogelijk blijft. Bij twijfel, behandel informatie als persoonsgegeven. Gebruik in plaats daarvan fictieve voorbeelden of algemene scenario's in uw AI-prompts.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Wat doe ik als ik twijfel?", nextId: "ambtenaar-twijfel-data" },
      { text: "Veilige alternatieven", nextId: "ambtenaar-veilige-alternatieven" },
      { text: "Terug naar risico's", nextId: "ambtenaar-persoonsgegevens-risicos" }
    ]
  },
  {
    id: "ambtenaar-twijfel-data",
    question: "Wat moet ik doen als ik twijfel of iets een persoonsgegeven is?",
    keywords: ["twijfel", "onzeker", "niet zeker", "advies"],
    shortAnswer: "Bij twijfel: behandel het als persoonsgegeven en gebruik het niet. Raadpleeg uw privacy officer of gebruik fictieve voorbeelden.",
    followUp: "Wilt u tips voor het maken van veilige fictieve voorbeelden?",
    fullAnswer: "Bij twijfel over data:\n1. **Voorzorgsprincipe**: behandel het als persoonsgegeven\n2. **Intern overleg**: raadpleeg uw CPO of FG\n3. **Alternatieven**: gebruik fictieve, algemene voorbeelden\n4. **Documentatie**: leg uw overwegingen vast",
    moreInfo: "Tips voor veilige alternatieven:\n‚Ä¢ Maak realistische maar fictieve scenario's\n‚Ä¢ Gebruik algemene kenmerken in plaats van specifieke details\n‚Ä¢ Test uw prompt eerst met openbare, niet-gevoelige informatie\n‚Ä¢ Houd een logboek bij van wat u wel en niet gebruikt",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=22",
    actions: [
      { text: "Wie is mijn privacy officer?", nextId: "governance-privacy-contact" },
      { text: "Tips voor fictieve voorbeelden", nextId: "ambtenaar-fictieve-voorbeelden" },
      { text: "Terug naar veilig gebruik", nextId: "ambtenaar-veilige-alternatieven" }
    ]
  },
  {
    id: "ambtenaar-veilige-alternatieven",
    question: "Zijn er wel veilige alternatieven voor AI-gebruik?",
    keywords: ["veilig", "alternatief", "oplossing", "gecontracteerd", "lokaal"],
    shortAnswer: "Ja, u kunt gebruikmaken van gecontracteerde AI-diensten, lokale modellen, of experimenteren in gecontroleerde omgevingen.",
    followUp: "Wilt u meer weten over deze alternatieven?",
    fullAnswer: "Veilige alternatieven:\n‚Ä¢ **Gecontracteerde diensten**: AI-tools met privacy-afspraken\n‚Ä¢ **Lokale modellen**: AI die op eigen servers draait\n‚Ä¢ **Gecontroleerde experimenten**: testen zonder gevoelige data\n‚Ä¢ **Publieke informatie**: werken met openbaar beschikbare bronnen",
    moreInfo: "Uw organisatie werkt mogelijk aan inkoop van gecontracteerde AI-diensten waar wel privacy-afspraken zijn gemaakt. Vraag uw IT-afdeling naar beschikbare opties. Experimenteren met publieke AI kan ook, zolang u geen gevoelige data gebruikt.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Hoe vind ik gecontracteerde diensten?", nextId: "governance-gecontracteerde-diensten" },
      { text: "Wat zijn lokale modellen?", nextId: "governance-lokale-modellen" },
      { text: "Tips voor veilig experimenteren", nextId: "ambtenaar-veilig-experimenteren" }
    ]
  },
  {
    id: "ambtenaar-toepassingen-overzicht",
    question: "Voor welke taken mag ik AI wel gebruiken?",
    keywords: ["toepassingen", "taken", "gebruik", "toegestaan", "mogelijkheden"],
    shortAnswer: "AI mag worden gebruikt voor ondersteunende taken zoals brainstormen, tekstbewerking, informatie zoeken en eenvoudige analyses.",
    followUp: "Wilt u concrete voorbeelden zien?",
    fullAnswer: "Toegestane toepassingen (altijd ondersteunend):\n‚Ä¢ **Brainstormen**: nieuwe idee√´n genereren\n‚Ä¢ **Tekstwerk**: samenvatten, versimpelen, vertalen\n‚Ä¢ **Informatie**: zoeken in publieke bronnen\n‚Ä¢ **Analyse**: patronen herkennen in niet-gevoelige data\n‚Ä¢ **Coding**: hulp bij softwareontwikkeling",
    moreInfo: "Deze toepassingen hebben relatief lage risico's en hoge toegevoegde waarde voor dagelijks werk. Belangrijk blijft dat u altijd eindverantwoordelijke bent en de output kritisch beoordeelt op juistheid en geschiktheid.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=9",
    actions: [
      { text: "Voorbeelden brainstormen", nextId: "ambtenaar-brainstorm-voorbeelden" },
      { text: "Tekstbewerking tips", nextId: "ambtenaar-tekstbewerking" },
      { text: "Informatie zoeken veilig", nextId: "ambtenaar-informatie-zoeken" }
    ]
  },
  {
    id: "ambtenaar-brainstorm-voorbeelden",
    question: "Hoe kan ik AI gebruiken voor brainstormen?",
    keywords: ["brainstorm", "idee√´n", "creativiteit", "oplossingen"],
    shortAnswer: "AI kan helpen door alternatieve perspectieven te bieden, nieuwe invalshoeken te suggereren en creatieve oplossingen voor te stellen.",
    followUp: "Wilt u praktische tips voor effectief brainstormen?",
    fullAnswer: "AI voor brainstormen:\n‚Ä¢ **Probleem herformuleren**: andere invalshoeken vinden\n‚Ä¢ **Scenario's**: 'wat als' situaties verkennen\n‚Ä¢ **Alternatieven**: verschillende oplossingsrichtingen\n‚Ä¢ **Stakeholder perspectieven**: vanuit verschillende rollen denken",
    moreInfo: "Voorbeeld prompts: 'Geef 5 alternatieve manieren om [probleem] te benaderen' of 'Wat zouden mogelijke bezwaren zijn tegen [voorstel] vanuit het perspectief van [doelgroep]?'. Gebruik de output als startpunt, niet als eindoplossing.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=9",
    actions: [
      { text: "Voorbeeld prompts", nextId: "ambtenaar-brainstorm-prompts" },
      { text: "Andere toepassingen", nextId: "ambtenaar-toepassingen-overzicht" },
      { text: "Tips voor effectieve prompts", nextId: "ambtenaar-prompt-tips" }
    ]
  },
  {
    id: "ambtenaar-menselijke-controle",
    question: "Waarom is menselijke controle altijd nodig?",
    keywords: ["menselijke controle", "human-in-the-loop", "verantwoordelijkheid", "eindverantwoordelijk"],
    shortAnswer: "Omdat AI 'black box' technologie is die fouten kan maken, en omdat u als ambtenaar altijd eindverantwoordelijk blijft voor uw werk.",
    followUp: "Wilt u meer weten over de beperkingen van AI?",
    fullAnswer: "Redenen voor menselijke controle:\n‚Ä¢ **Black box**: AI-beslissingen zijn niet volledig uitlegbaar\n‚Ä¢ **Hallucinaties**: AI kan overtuigend onjuiste informatie geven\n‚Ä¢ **Bias**: vooroordelen uit trainingsdata\n‚Ä¢ **Verantwoordelijkheid**: u blijft eindverantwoordelijk voor output",
    moreInfo: "De handreiking benadrukt dat bij de inzet van generatieve AI altijd een vorm van menselijke tussenkomst ingebouwd moet zijn. De ambtenaar blijft aan het stuur en draagt de eindverantwoordelijkheid.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=10",
    actions: [
      { text: "Wat zijn AI hallucinaties?", nextId: "ambtenaar-hallucinaties" },
      { text: "Hoe herken ik bias?", nextId: "governance-bias-herkennen" },
      { text: "Praktische controletips", nextId: "ambtenaar-output-controleren" }
    ]
  },
  {
    id: "ambtenaar-output-controleren",
    question: "Hoe controleer ik of AI-output juist en bruikbaar is?",
    keywords: ["controleren", "output", "juistheid", "kwaliteit", "verificatie"],
    shortAnswer: "Controleer de output door feiten te verifi√´ren, bronnen te raadplegen, en te beoordelen of het past bij uw context en doelen.",
    followUp: "Wilt u een praktische checklist?",
    fullAnswer: "Controlestappen:\n1. **Factcheck**: controleer feiten bij betrouwbare bronnen\n2. **Contextcheck**: past het bij uw specifieke situatie?\n3. **Biascheck**: zijn er vooroordelen of ongenuanceerde standpunten?\n4. **Volledigheidscheck**: mist er belangrijke informatie?",
    moreInfo: "Aanvullende tips:\n‚Ä¢ Vergelijk met uw eigen expertise\n‚Ä¢ Vraag om alternatieven of tegenargumenten\n‚Ä¢ Test verschillende versies van uw prompt\n‚Ä¢ Documenteer wat u gebruikt en waarom\n‚Ä¢ Overleg met collega's bij belangrijke beslissingen",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=22",
    actions: [
      { text: "Wat is een factcheck?", nextId: "ambtenaar-factcheck-tips" },
      { text: "Hoe herken ik bias?", nextId: "governance-bias-herkennen" },
      { text: "Terug naar controle", nextId: "ambtenaar-menselijke-controle" }
    ]
  },
  {
    id: "ambtenaar-hallucinaties",
    question: "Wat zijn AI hallucinaties en hoe herken ik ze?",
    keywords: ["hallucinaties", "confabuleren", "onjuist", "fouten"],
    shortAnswer: "AI hallucinaties zijn overtuigende maar onjuiste informatie die AI genereert. Ze zijn lastig te herkennen omdat ze vaak plausibel klinken.",
    followUp: "Wilt u tips om hallucinaties te voorkomen?",
    fullAnswer: "Over hallucinaties:\n‚Ä¢ **Definitie**: AI presenteert onware informatie als feit\n‚Ä¢ **Oorzaak**: AI is geoptimaliseerd voor plausibiliteit, niet accuratesse\n‚Ä¢ **Herkenning**: vaak heel overtuigend en gedetailleerd\n‚Ä¢ **Risico**: vooral bij specifieke feiten, data, citaten",
    moreInfo: "Hallucinaties komen vaker voor bij:\n‚Ä¢ Specifieke statistieken of cijfers\n‚Ä¢ Citaten en bronvermeldingen\n‚Ä¢ Recente gebeurtenissen\n‚Ä¢ Zeer specifieke technische details\n‚Ä¢ Namen van personen of organisaties",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=18",
    actions: [
      { text: "Hoe voorkom ik hallucinaties?", nextId: "ambtenaar-hallucinaties-voorkomen" },
      { text: "Factcheck strategie√´n", nextId: "ambtenaar-factcheck-tips" },
      { text: "Terug naar output controleren", nextId: "ambtenaar-output-controleren" }
    ]
  },
  {
    id: "ambtenaar-praktische-tips",
    question: "Heeft u praktische tips voor het gebruik van AI?",
    keywords: ["tips", "praktisch", "advies", "gebruiken", "effectief"],
    shortAnswer: "Ja! De belangrijkste tips zijn: wees specifiek in uw prompts, vraag om uitleg van de redenering, en experimenteer met verschillende formuleringen.",
    followUp: "Wilt u gedetailleerde prompt-tips?",
    fullAnswer: "Praktische tips:\n‚Ä¢ **Specificiteit**: geef duidelijke, gedetailleerde instructies\n‚Ä¢ **Context**: vertel wat u wilt bereiken en voor wie\n‚Ä¢ **Voorbeelden**: gebruik concrete voorbeelden in uw prompt\n‚Ä¢ **Iteratie**: verfijn uw prompt op basis van de resultaten",
    moreInfo: "Extra tips:\n‚Ä¢ Deel complexe taken op in kleinere stappen\n‚Ä¢ Vraag om alternatieven en tegenargumenten\n‚Ä¢ Gebruik 'chain-of-thought' prompting voor complexe redeneringen\n‚Ä¢ Experimenteer met rollenspel (bijv. 'reageer als expert in...')\n‚Ä¢ Houd een logboek bij van effectieve prompts",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=22",
    actions: [
      { text: "Prompt schrijftips", nextId: "ambtenaar-prompt-tips" },
      { text: "Chain-of-thought uitleg", nextId: "ambtenaar-chain-of-thought" },
      { text: "Effectieve voorbeelden", nextId: "ambtenaar-prompt-voorbeelden" }
    ]
  },
  {
    id: "ambtenaar-prompt-tips",
    question: "Hoe schrijf ik effectieve prompts?",
    keywords: ["prompt", "schrijven", "effectief", "instructies"],
    shortAnswer: "Goede prompts zijn specifiek, geven context, bevatten voorbeelden en maken duidelijk wat u verwacht als output.",
    followUp: "Wilt u concrete voorbeelden van goede prompts zien?",
    fullAnswer: "Elementen van goede prompts:\n‚Ä¢ **Doel**: wat wilt u bereiken?\n‚Ä¢ **Context**: achtergrondinformatie en doelgroep\n‚Ä¢ **Formaat**: hoe moet de output eruit zien?\n‚Ä¢ **Beperkingen**: wat wel/niet includeren?",
    moreInfo: "Structuur voorbeeld:\n'Je bent een [rol]. Ik werk aan [context]. Maak [specifieke taak] voor [doelgroep]. Format: [gewenst format]. Vermijd [beperkingen]. Hier is een voorbeeld: [voorbeeld].'",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=22",
    actions: [
      { text: "Concrete voorbeelden", nextId: "ambtenaar-prompt-voorbeelden" },
      { text: "Chain-of-thought techniek", nextId: "ambtenaar-chain-of-thought" },
      { text: "Veelgemaakte fouten", nextId: "ambtenaar-prompt-fouten" }
    ]
  },
  {
    id: "ambtenaar-chain-of-thought",
    question: "Wat is chain-of-thought prompting?",
    keywords: ["chain-of-thought", "redenering", "stappen", "uitleg"],
    shortAnswer: "Dit is een techniek waarbij u het AI-model vraagt om stap-voor-stap uit te leggen hoe het tot een antwoord komt.",
    followUp: "Wilt u een voorbeeld zien?",
    fullAnswer: "Chain-of-thought prompting:\n‚Ä¢ **Doel**: inzicht in AI-redenering krijgen\n‚Ä¢ **Methode**: vraag om stapsgewijze uitleg\n‚Ä¢ **Voordeel**: betere controle over de logica\n‚Ä¢ **Toepassing**: vooral nuttig bij complexe vragen",
    moreInfo: "Voorbeeld: In plaats van 'Wat is de beste oplossing voor X?' vraag 'Analyseer probleem X stap voor stap: 1) Wat zijn de hoofdoorzaken? 2) Welke opties hebben we? 3) Wat zijn de voor- en nadelen? 4) Wat is je aanbeveling en waarom?'",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=23",
    actions: [
      { text: "Meer voorbeelden", nextId: "ambtenaar-chain-voorbeelden" },
      { text: "Terug naar prompt tips", nextId: "ambtenaar-prompt-tips" },
      { text: "Andere technieken", nextId: "ambtenaar-geavanceerde-technieken" }
    ]
  },
  {
    id: "governance-avg-vereisten",
    question: "Wat zegt de AVG over AI-gebruik?",
    keywords: ["avg", "privacy", "wetgeving", "vereisten"],
    shortAnswer: "De AVG vereist een wettelijke grondslag voor het verwerken van persoonsgegevens, ook bij AI-gebruik. Zonder duidelijke afspraken is dit vaak problematisch.",
    followUp: "Wilt u meer weten over de juridische aspecten?",
    fullAnswer: "AVG en AI:\n‚Ä¢ **Grondslag**: wettelijke basis nodig voor gegevensverwerking\n‚Ä¢ **Transparantie**: duidelijkheid over hoe data wordt gebruikt\n‚Ä¢ **Doelbinding**: data alleen gebruiken voor het oorspronkelijke doel\n‚Ä¢ **Minimalisatie**: alleen noodzakelijke data verwerken",
    moreInfo: "Bij publieke AI-diensten is vaak onduidelijk waar data wordt opgeslagen, wie toegang heeft, en hoe het wordt gebruikt. Dit maakt rechtmatige verwerking onder de AVG vrijwel onmogelijk, vandaar de sterke waarschuwing tegen gebruik van persoonsgegevens.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "DPIA verplichtingen", nextId: "governance-dpia-wanneer" },
      { text: "Andere wetgeving", nextId: "governance-andere-wetten" },
      { text: "Terug naar privacy", nextId: "ambtenaar-persoonsgegevens-risicos" }
    ]
  },
  {
    id: "governance-ai-verordening",
    question: "Wat is de Europese AI-verordening?",
    keywords: ["ai-verordening", "europees", "wetgeving", "verordening"],
    shortAnswer: "De AI-verordening is Europese wetgeving die kaders stelt voor AI-ontwikkeling en -gebruik, met strengere regels voor hoger risico toepassingen.",
    followUp: "Wilt u weten hoe dit uw werk be√Ønvloedt?",
    fullAnswer: "AI-verordening kernpunten:\n‚Ä¢ **Risico-gebaseerd**: verschillende regels per risiconiveau\n‚Ä¢ **Transparantie**: vereisten voor AI-systeembeschrijving\n‚Ä¢ **Hoog-risico**: strenge eisen voor kritieke toepassingen\n‚Ä¢ **Verboden**: bepaalde AI-toepassingen zijn niet toegestaan",
    moreInfo: "De verordening geldt gefaseerd vanaf 2024-2026. Voor generatieve AI gelden specifieke eisen rond transparantie en het aangeven van AI-gebruik aan eindgebruikers. Organisaties moeten zorgen dat personeel voldoende AI-kennis heeft.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Wat is hoog-risico AI?", nextId: "governance-hoog-risico-definitie" },
      { text: "Transparantie verplichtingen", nextId: "governance-transparantie" },
      { text: "AI-geletterdheid vereisten", nextId: "governance-ai-geletterdheid" }
    ]
  },
  {
    id: "governance-hoog-risico-definitie",
    question: "Wat is hoog-risico AI volgens de AI-verordening?",
    keywords: ["hoog-risico", "high-risk", "definitie", "classificatie"],
    shortAnswer: "Hoog-risico AI zijn systemen die ingrijpen in fundamentele rechten of kritieke sectoren zoals gezondheidszorg, onderwijs of rechtspraak.",
    followUp: "Wilt u weten welke extra eisen gelden?",
    fullAnswer: "Hoog-risico AI kenmerken:\n‚Ä¢ **Impact**: grote invloed op mensen's leven en rechten\n‚Ä¢ **Sectoren**: gezondheidszorg, onderwijs, werk, rechtspraak\n‚Ä¢ **Beslissingen**: automatische of ondersteunende besluitvorming\n‚Ä¢ **Gevolgen**: moeilijk omkeerbare effecten",
    moreInfo: "De AI-verordening bepaalt de risicocategorie op basis van gebruik, niet op basis van de technologie zelf. Een chatbot voor algemene vragen is laag-risico, maar dezelfde technologie voor sollicitatiescreening kan hoog-risico zijn.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=24",
    actions: [
      { text: "Welke eisen gelden?", nextId: "governance-hoog-risico-eisen" },
      { text: "Hoe bepaal ik het risico?", nextId: "governance-risico-bepalen" },
      { text: "Terug naar AI-verordening", nextId: "governance-ai-verordening" }
    ]
  },
  {
    id: "governance-transparantie",
    question: "Wat zijn de transparantie verplichtingen?",
    keywords: ["transparantie", "openheid", "documentatie", "communicatie"],
    shortAnswer: "U moet transparant zijn over AI-gebruik, vooral wanneer burgers direct interacteren met AI-systemen of deze invloed hebben op besluitvorming.",
    followUp: "Wilt u weten hoe u dit praktisch kunt doen?",
    fullAnswer: "Transparantie vereisten:\n‚Ä¢ **Algoritmeregister**: publiceer AI-systemen die u gebruikt\n‚Ä¢ **Burger-informatie**: vertel wanneer AI wordt ingezet\n‚Ä¢ **Menselijke optie**: bied altijd contact met een persoon aan\n‚Ä¢ **Documentatie**: leg ontwerpkeuzes en risico's vast",
    moreInfo: "Praktische implementatie: plaats duidelijke labels bij AI-tools, maak AI-gebruik zichtbaar in processen, documenteer in het Algoritmeregister, en zorg voor een contactmogelijkheid voor vragen. Dit bouwt vertrouwen en voldoet aan wettelijke eisen.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=17",
    actions: [
      { text: "Algoritmeregister uitleg", nextId: "governance-algoritmeregister-gebruik" },
      { text: "Hoe informeer ik burgers?", nextId: "governance-burger-informeren" },
      { text: "Documentatie tips", nextId: "governance-documentatie-tips" }
    ]
  },
  {
    id: "governance-algoritmeregister-gebruik",
    question: "Hoe gebruik ik het Algoritmeregister?",
    keywords: ["algoritmeregister", "publiceren", "documenteren"],
    shortAnswer: "Het Algoritmeregister is een openbare database waar u uw AI-systemen kunt registreren met uitleg over doel, werking en risico's.",
    followUp: "Wilt u weten wat u moet documenteren?",
    fullAnswer: "Algoritmeregister gebruik:\n‚Ä¢ **Registratie**: alle AI-systemen die u inzet\n‚Ä¢ **Beschrijving**: doel, doelgroep, werking, data\n‚Ä¢ **Risico's**: uitgevoerde analyses en maatregelen\n‚Ä¢ **Updates**: houd informatie actueel",
    moreInfo: "Gebruik de Publicatiestandaard voor consistente documentatie. Beschrijf minimaal het publieke doel, de beoogde doelgroep, en of het voor interne of externe gebruikers is. Dit helpt bij transparantie en accountability.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=12",
    actions: [
      { text: "Wat is de Publicatiestandaard?", nextId: "governance-publicatiestandaard" },
      { text: "Terug naar transparantie", nextId: "governance-transparantie" },
      { text: "Andere governance aspecten", nextId: "governance-overzicht" }
    ]
  },
  {
    id: "governance-risico-analyse-doen",
    question: "Welke risicoanalyses moet ik uitvoeren?",
    keywords: ["risicoanalyse", "dpia", "iama", "aiia", "verplicht"],
    shortAnswer: "U moet altijd een risicoanalyse uitvoeren voordat u AI inkoopt of ontwikkelt. Bij persoonsgegevens is een DPIA verplicht.",
    followUp: "Wilt u weten welke analyse geschikt is voor uw situatie?",
    fullAnswer: "Verplichte analyses:\n‚Ä¢ **DPIA**: altijd bij persoonsgegevens (pre-scan minimum)\n‚Ä¢ **IAMA/AIIA**: impact op mensenrechten en algoritmen\n‚Ä¢ **BIO-scan**: informatiebeveiliging risico's\n‚Ä¢ **Eigen instrument**: organisatie-specifieke analyses",
    moreInfo: "Het doel is interdisciplinaire discussie tussen verschillende rollen over risico's. Betrek juristen, privacy officers, ethici en eindgebruikers. Leg uitkomsten bestuurlijk voor en documenteer alle analyses centraal.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Wanneer DPIA nodig?", nextId: "governance-dpia-wanneer" },
      { text: "Wat is een IAMA?", nextId: "governance-iama-uitleg" },
      { text: "Wie moet ik betrekken?", nextId: "governance-stakeholders" }
    ]
  },
  {
    id: "governance-dpia-wanneer",
    question: "Wanneer is een DPIA verplicht?",
    keywords: ["dpia", "verplicht", "wanneer", "persoonsgegevens"],
    shortAnswer: "Een DPIA is verplicht wanneer de gegevensverwerking waarschijnlijk een hoog risico inhoudt voor personen. Een pre-scan DPIA is altijd verplicht bij persoonsgegevens.",
    followUp: "Wilt u weten hoe u een DPIA uitvoert?",
    fullAnswer: "DPIA vereisten:\n‚Ä¢ **Pre-scan**: altijd bij persoonsgegevens\n‚Ä¢ **Volledige DPIA**: bij hoog risico voor betrokkenen\n‚Ä¢ **Consultatie**: betrek CPO en FG in het proces\n‚Ä¢ **Documentatie**: leg proces en uitkomsten vast",
    moreInfo: "Hoog risico indicatoren: systematische monitoring, gevoelige data, kwetsbare personen, innovatieve technologie, of combinatie van data uit verschillende bronnen. Bij twijfel, voer altijd een DPIA uit.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Wat is hoog risico?", nextId: "governance-hoog-risico-indicatoren" },
      { text: "Wie zijn CPO en FG?", nextId: "governance-privacy-rollen" },
      { text: "Terug naar risicoanalyses", nextId: "governance-risico-analyse-doen" }
    ]
  },
  {
    id: "ambtenaar-veilig-experimenteren",
    question: "Hoe kan ik veilig experimenteren met AI?",
    keywords: ["experimenteren", "testen", "veilig", "proberen"],
    shortAnswer: "Experimenteer in een gecontroleerde omgeving met publieke, niet-gevoelige informatie, en documenteer wat u leert.",
    followUp: "Wilt u concrete tips voor veilig experimenteren?",
    fullAnswer: "Veilig experimenteren:\n‚Ä¢ **Publieke data**: alleen openbaar beschikbare informatie\n‚Ä¢ **Fictieve scenarios**: gebruik gemaakte voorbeelden\n‚Ä¢ **Gecontroleerde omgeving**: niet in productiesystemen\n‚Ä¢ **Documentatie**: houd bij wat werkt en wat niet",
    moreInfo: "Experimenteer bijvoorbeeld met het samenvatten van publieke rapporten, het herformuleren van beleidsteksten, of het genereren van verschillende versies van een bekendmaking. Dit helpt u de mogelijkheden en beperkingen te leren kennen zonder risico's.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Idee√´n voor experimenten", nextId: "ambtenaar-experiment-ideeen" },
      { text: "Hoe documenteer ik?", nextId: "ambtenaar-experiment-documenteren" },
      { text: "Terug naar veilige alternatieven", nextId: "ambtenaar-veilige-alternatieven" }
    ]
  },
  {
    id: "governance-inkoop-tips",
    question: "Waar moet ik op letten bij AI-inkoop?",
    keywords: ["inkoop", "aanschaf", "contracteren", "leverancier"],
    shortAnswer: "Let op privacy-afspraken, voorkom vendor lock-in, en geef voorkeur aan Europese leveranciers met duidelijke voorwaarden.",
    followUp: "Wilt u concrete inkooptips?",
    fullAnswer: "Inkoop checklist:\n‚Ä¢ **Privacy**: duidelijke afspraken over dataverwerking\n‚Ä¢ **Soevereiniteit**: voorkeur voor Europese aanbieders\n‚Ä¢ **Flexibiliteit**: vermijd vendor lock-in\n‚Ä¢ **Controle**: data-instellingen en logging mogelijkheden",
    moreInfo: "Zorg dat datadeling voor training standaard uit staat, maak duidelijke afspraken over toegang en opslag van gegevens, en betrek commerci√´le collega's vanaf het begin. Verken open-source alternatieven voor meer transparantie.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=13",
    actions: [
      { text: "Wat is vendor lock-in?", nextId: "governance-vendor-lockin" },
      { text: "Europese alternatieven", nextId: "governance-europese-ai" },
      { text: "Contractvoorwaarden", nextId: "governance-contract-voorwaarden" }
    ]
  },
  {
    id: "governance-duurzaamheid",
    question: "Wat zijn de duurzaamheidsaspecten van AI?",
    keywords: ["duurzaamheid", "milieu", "energieverbruik", "co2"],
    shortAnswer: "AI-training en gebruik verbruiken veel energie en water. Overweeg of AI echt nodig is en kies voor effici√´nte alternatieven waar mogelijk.",
    followUp: "Wilt u tips voor duurzamer AI-gebruik?",
    fullAnswer: "Duurzaamheidsimpact:\n‚Ä¢ **Energieverbruik**: hoge rekenkracht vereist\n‚Ä¢ **Waterverbruik**: koeling van datacenters\n‚Ä¢ **Hardware**: schaarse grondstoffen\n‚Ä¢ **Schaling**: impact groeit met gebruik",
    moreInfo: "Maatregelen: gebruik bestaande voorgetrainde modellen i.p.v. zelf trainen, overweeg of AI echt de beste oplossing is, kies energiezuinige providers, en voer een duurzaamheidsimpactanalyse uit waar mogelijk.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=18",
    actions: [
      { text: "Hoe maak ik duurzame keuzes?", nextId: "governance-duurzame-keuzes" },
      { text: "Wat zijn alternatieven?", nextId: "governance-ai-alternatieven" },
      { text: "Terug naar ethische aspecten", nextId: "governance-ethiek-overzicht" }
    ]
  },
  {
    id: "ambtenaar-auteursrecht-praktijk",
    question: "Hoe ga ik praktisch om met auteursrecht bij AI-gebruik?",
    keywords: ["auteursrecht", "praktisch", "omgaan", "copyright"],
    shortAnswer: "Gebruik AI-output als startpunt, niet als eindproduct. Controleer of content te veel lijkt op bestaande werken en vermeld AI-gebruik waar relevant.",
    followUp: "Wilt u concrete richtlijnen?",
    fullAnswer: "Praktische auteursrecht richtlijnen:\n‚Ä¢ **Startpunt**: gebruik output als inspiratie, niet letterlijk\n‚Ä¢ **Bewerking**: pas output altijd aan naar uw context\n‚Ä¢ **Controle**: controleer of content te herkenbaar is\n‚Ä¢ **Transparantie**: vermeld AI-gebruik in uw werk",
    moreInfo: "De AI-verordening zal meer transparantie vereisen van AI-aanbieders over hun trainingsdata. Tot die tijd: wees voorzichtig met letterlijk overnemen, vooral van creatieve content zoals teksten, afbeeldingen of code die heel specifiek zijn.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=15",
    actions: [
      { text: "Wanneer is iets te herkenbaar?", nextId: "ambtenaar-herkenbaar-content" },
      { text: "Hoe vermeld ik AI-gebruik?", nextId: "ambtenaar-ai-bronvermelding" },
      { text: "Terug naar auteursrecht", nextId: "governance-auteursrecht-detail" }
    ]
  },
  {
    id: "governance-cybersecurity-detail",
    question: "Wat zijn de belangrijkste cybersecurity risico's bij AI?",
    keywords: ["cybersecurity", "beveiliging", "risico", "aanvallen"],
    shortAnswer: "De hoofdrisico's zijn promptinjectie (manipulatie van AI), data poisoning (vervuilde training) en het gebruik van AI voor cyberaanvallen.",
    followUp: "Wilt u weten hoe u zich kunt beschermen?",
    fullAnswer: "Cybersecurity risico's:\n‚Ä¢ **Promptinjectie**: manipulatie door kwaadaardige prompts\n‚Ä¢ **Data poisoning**: vervuilde trainingsdata\n‚Ä¢ **Model extraction**: stelen van AI-modellen\n‚Ä¢ **Deepfakes**: misbruik voor desinformatie",
    moreInfo: "AI kan ook gebruikt worden v√≥√≥r aanvallen: geautomatiseerde phishing, gepersonaliseerde sociale manipulatie, en snellere malware ontwikkeling. De OWASP heeft een top-10 lijst van AI-beveiligingsrisico's ontwikkeld.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=20",
    actions: [
      { text: "Wat is promptinjectie?", nextId: "governance-promptinjectie" },
      { text: "Hoe bescherm ik mezelf?", nextId: "governance-cyber-bescherming" },
      { text: "OWASP AI top-10", nextId: "governance-owasp-ai" }
    ]
  },
  {
    id: "governance-verantwoordelijkheden",
    question: "Wie is waarvoor verantwoordelijk bij AI-gebruik?",
    keywords: ["verantwoordelijk", "rollen", "governance", "rasci"],
    shortAnswer: "Gebruik een RASCI-model om duidelijk vast te leggen wie Responsible, Accountable, Supportive, Consulted en Informed is voor elk aspect van AI-gebruik.",
    followUp: "Wilt u weten hoe u dit praktisch inricht?",
    fullAnswer: "Kernrollen bij AI:\n‚Ä¢ **Eindverantwoordelijke**: bestuurder die besluit over inzet\n‚Ä¢ **AI-co√∂rdinator**: dagelijks beheer en monitoring\n‚Ä¢ **Privacy officer**: AVG-compliance\n‚Ä¢ **Security officer**: cyberveiligheid aspecten",
    moreInfo: "Zorg voor duidelijke escalatielijnen, regelmatige evaluatie, en documentatie van beslissingen. Maak het mogelijk om problemen te rapporteren en houd rekening met klokkenluiderregelingen.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=21",
    actions: [
      { text: "RASCI model uitleg", nextId: "governance-rasci-uitleg" },
      { text: "Hoe rapporteer ik problemen?", nextId: "governance-probleem-rapporteren" },
      { text: "Escalatielijnen", nextId: "governance-escalatie" }
    ]
  },
  {
    id: "ambtenaar-bias-herkennen",
    question: "Hoe herken ik bias in AI-output?",
    keywords: ["bias", "vooroordeel", "discriminatie", "herkennen"],
    shortAnswer: "Let op ongelijke behandeling van groepen, stereotypering, en eenzijdige perspectieven in AI-output. Vraag altijd om alternatieven.",
    followUp: "Wilt u concrete voorbeelden en controletips?",
    fullAnswer: "Bias signalen:\n‚Ä¢ **Stereotypering**: standaard aannames over groepen\n‚Ä¢ **Ondervertegenwoordiging**: bepaalde groepen vergeten\n‚Ä¢ **Eenzijdigheid**: slechts √©√©n perspectief getoond\n‚Ä¢ **Historische bias**: oude patronen herhaald",
    moreInfo: "Test uw prompts met verschillende groepen in gedachten. Vraag expliciet om diverse perspectieven. Let extra op bij beslissingen over mensen, selecties, of aanbevelingen. Gebruik verschillende formulaties om consistentie te controleren.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=17",
    actions: [
      { text: "Voorbeelden van bias", nextId: "governance-bias-voorbeelden" },
      { text: "Hoe test ik op bias?", nextId: "ambtenaar-bias-testen" },
      { text: "Terug naar ethiek", nextId: "governance-ethiek-overzicht" }
    ]
  },
  {
    id: "ambtenaar-training-behoefte",
    question: "Welke training heb ik nodig voor AI-gebruik?",
    keywords: ["training", "opleiding", "leren", "vaardigheden"],
    shortAnswer: "Afhankelijk van uw rol heeft u basiskennis, specifieke vaardigheden, of gespecialiseerde training nodig. Begin met een algemene AI-cursus.",
    followUp: "Wilt u weten welke training past bij uw rol?",
    fullAnswer: "Training per rol:\n‚Ä¢ **Algemeen**: basisopleiding AI en risico's (bijv. RADIO)\n‚Ä¢ **Dagelijks gebruik**: prompt engineering, ethics\n‚Ä¢ **Ontwikkelaars**: technische implementatie, beveiliging\n‚Ä¢ **Besluitvormers**: governance, strategie, risicomanagement",
    moreInfo: "De AI-verordening vereist dat organisaties zorgen voor adequate AI-geletterdheid van hun personeel. Start met bewustwording, bouw op met praktische vaardigheden, en specialiseer waar nodig.",
    url: "https://open.overheid.nl/documenten/9c273b71-cebb-4e11-b06f-fa20f7b4b90e/file#page=11",
    actions: [
      { text: "Wat is RADIO training?", nextId: "governance-radio-training" },
      { text: "Prompt engineering leren", nextId: "ambtenaar-prompt-leren" },
      { text: "AI-geletterdheid vereisten", nextId: "governance-ai-geletterdheid-detail" }
    ]
  }
];


// ===================================================================================
// UI (USER INTERFACE) CODE (WITH TYPING EFFECT AND DRILL-DOWN LOGIC)
// ===================================================================================

document.addEventListener('DOMContentLoaded', () => {
  const chatContainer = document.getElementById('chat-container');
  const userInput = document.getElementById('user-input');
  const sendButton = document.getElementById('send-button');
  const clearButton = document.getElementById('clear-btn');
  const helpButton = document.getElementById('help-btn');
  
  const chatbot = new EnhancedDutchEliza(websiteQA);
  
  let isTyping = false;

  function addMessage(response, isUser = false) {
    const wrapper = document.createElement('div');
    wrapper.className = isUser ? 'message-wrapper user-message-wrapper' : 'message-wrapper bot-message-wrapper';
    
    const timeDiv = document.createElement('div');
    timeDiv.className = 'message-time';
    timeDiv.textContent = new Date().toLocaleTimeString('nl-NL', { hour: '2-digit', minute: '2-digit' });
    
    const messageDiv = document.createElement('div');
    messageDiv.className = isUser ? 'user-message' : 'bot-message';
    
    wrapper.appendChild(timeDiv);
    wrapper.appendChild(messageDiv);
    
    if (isUser) {
      messageDiv.textContent = response;
      chatContainer.appendChild(wrapper);
    } else {
      chatContainer.appendChild(wrapper);
      showTypingIndicator();
      setTimeout(() => {
        hideTypingIndicator();
        typeMessage(messageDiv, response, () => {
          // After typing, add relevant quick replies
          let quickReplies = [];
          const topic = chatbot.qaDataMap.get(response.id);
          if (topic) {
             // Offer drill-down if available
            if (chatbot.conversationState.detailLevel === 'short' && topic.fullAnswer) {
                const followUpText = topic.followUp || "Wilt u meer details?";
                messageDiv.innerHTML += `<br><br><em>${followUpText}</em>`;
            } else if (chatbot.conversationState.detailLevel === 'full' && topic.moreInfo) {
                messageDiv.innerHTML += `<br><br><em>Wilt u nog meer details?</em>`;
            }
            quickReplies = topic.quickReplies || [];
          } else {
            quickReplies = response.quickReplies || [];
          }
          
          if (quickReplies.length > 0) {
            addQuickReplies(quickReplies);
          }

          enableInput();
          scrollToBottom();
        });
      }, 400 + Math.random() * 600);
    }
    scrollToBottom();
  }
  
  function typeMessage(element, response, callback) {
    const text = response.answer || response.text;
    let charIndex = 0;
    
    const cursor = document.createElement('span');
    cursor.className = 'typing-cursor';
    element.appendChild(cursor);
    
    function type() {
      if (charIndex < text.length) {
        element.innerHTML = formatMessage(text.substring(0, charIndex + 1), response.url) + '<span class="typing-cursor"></span>';
        charIndex++;
        setTimeout(type, 20);
      } else {
        element.innerHTML = formatMessage(text, response.url); // Final render
        if (callback) callback();
      }
    }
    type();
  }

  function formatMessage(text, url) {
      let formattedText = text
          .replace(/\n/g, '<br>')
          .replace(/‚Ä¢\s/g, '<span style="color: #4285f4; font-weight: bold;">‚Ä¢</span> ');
      
      if (url) {
          formattedText += `<a href="${url}" target="_blank" class="link-card">üîó Bekijk in de handreiking (pagina ${url.split('#page=')[1]})</a>`;
      }
      return formattedText;
  }

  function showTypingIndicator() {
    if (document.getElementById('typing-indicator')) return;
    const indicator = document.createElement('div');
    indicator.id = 'typing-indicator';
    indicator.className = 'typing-indicator';
    indicator.innerHTML = `<div class="typing-dots"><div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div></div>`;
    chatContainer.appendChild(indicator);
    scrollToBottom();
  }

  function hideTypingIndicator() {
    const indicator = document.getElementById('typing-indicator');
    if (indicator) indicator.remove();
  }

  function addQuickReplies(replies) {
    removeExistingQuickReplies();
    const container = document.createElement('div');
    container.className = 'quick-replies';
    
    replies.forEach(reply => {
      const button = document.createElement('button');
      button.className = 'quick-reply-btn';
      button.textContent = reply;
      button.onclick = () => handleQuickReply(reply);
      container.appendChild(button);
    });
    chatContainer.appendChild(container);
    scrollToBottom();
  }

  function removeExistingQuickReplies() {
    const existing = chatContainer.querySelector('.quick-replies');
    if (existing) existing.remove();
  }

  function handleQuickReply(text) {
    addMessage(text, true);
    removeExistingQuickReplies();
    disableInput();
    const response = chatbot.generateResponse(text);
    addMessage(response);
  }

  function handleUserInput() {
    const text = userInput.value.trim();
    if (!text || isTyping) return;
    addMessage(text, true);
    userInput.value = '';
    removeExistingQuickReplies();
    disableInput();
    const response = chatbot.generateResponse(text);
    addMessage(response);
  }

  function disableInput() {
    isTyping = true;
    userInput.disabled = true;
    sendButton.disabled = true;
  }

  function enableInput() {
    isTyping = false;
    userInput.disabled = false;
    sendButton.disabled = false;
    userInput.focus();
  }
  
  function scrollToBottom() {
    chatContainer.scrollTo({ top: chatContainer.scrollHeight, behavior: 'smooth' });
  }

  function clearConversation() {
    if (confirm('Weet u zeker dat u het gesprek wilt wissen?')) {
      chatContainer.innerHTML = '';
      chatbot.clearSession();
      const welcomeResponse = chatbot.generateResponse("hallo");
      addMessage(welcomeResponse);
    }
  }

  // Event Listeners
  sendButton.addEventListener('click', handleUserInput);
  userInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleUserInput();
    }
  });
  clearButton.addEventListener('click', clearConversation);
  helpButton.addEventListener('click', () => {
      const helpResponse = chatbot.getHelpInfo();
      addMessage(helpResponse);
  });

  // Initial greeting
  const welcomeResponse = chatbot.generateResponse("hallo");
  addMessage(welcomeResponse);
});

function emailConversation() {
  const supportEmail = 'support@voorbeeld.nl'; // <-- CHANGE THIS
  const pageTitle = document.title;
  const currentDate = new Date().toLocaleDateString('nl-NL', { dateStyle: 'long' });
  const subject = `Chat Transcript: ${pageTitle} - ${currentDate}`;
  
  const messages = document.querySelectorAll('#chat-container .message-wrapper');
  if (messages.length === 0) {
    alert("Er is nog geen gesprek om te mailen.");
    return;
  }
  
  const transcript = Array.from(messages).map(wrapper => {
    const time = wrapper.querySelector('.message-time').textContent;
    const sender = wrapper.classList.contains('user-message-wrapper') ? 'U' : 'Assistent';
    const text = wrapper.querySelector('.user-message, .bot-message').textContent;
    return `[${time}] ${sender}: ${text}`;
  }).join('\n');
  
  const body = `Hieronder staat het transcript van mijn gesprek met de virtuele assistent:\n\n--------------------------------------------------\n${transcript}\n--------------------------------------------------\n\nMijn onbeantwoorde vraag is:\n\n`;
  const mailtoLink = `mailto:${supportEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
  window.location.href = mailtoLink;
}
</script>

</body>
</html>
